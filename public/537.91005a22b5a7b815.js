"use strict";(self.webpackChunkA3_IMS=self.webpackChunkA3_IMS||[]).push([[537],{537:(Pe,L,c)=>{c.r(L),c.d(L,{IMSModule:()=>S});var u=c(6895),m=c(9299),Z=c(7974),s=c(7155),t=c(4650),N=c(6743),I=c(529);class f{constructor(e){this.http=e,this.baseUrl=N.N.baseUrl}getProducts(){return this.http.get(`${this.baseUrl}/data/products`)}createProduct(e){return this.http.post(`${this.baseUrl}/data/create/products`,e)}getProductById(e){return this.http.get(`${this.baseUrl}/data/products/${e}`)}editProduct(e,n){return this.http.put(`${this.baseUrl}/data/products/${n}`,e)}}f.\u0275fac=function(e){return new(e||f)(t.LFG(I.eN))},f.\u0275prov=t.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"});var M=c(6518),v=c(880),O=c(7274),p=c(4859),d=c(9549),g=c(7392),x=c(4144),A=c(1572);function K(o,e){1&o&&(t.TgZ(0,"th",26),t._uU(1," ID "),t.qZA())}function X(o,e){if(1&o&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&o){const n=e.$implicit,i=t.oxw(2);t.Q6J("ngClass",i.statusColor(n.isActive)),t.xp6(1),t.hij(" ",n._id," ")}}function W(o,e){1&o&&(t.TgZ(0,"th",26),t._uU(1," Name "),t.qZA())}function V(o,e){if(1&o&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&o){const n=e.$implicit,i=t.oxw(2);t.Q6J("ngClass",i.statusColor(n.isActive)),t.xp6(1),t.hij(" ",n.product_name," ")}}function tt(o,e){1&o&&(t.TgZ(0,"th",26),t._uU(1," Description "),t.qZA())}function et(o,e){if(1&o&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&o){const n=e.$implicit,i=t.oxw(2);t.Q6J("ngClass",i.statusColor(n.isActive)),t.xp6(1),t.hij(" ",n.description," ")}}function ot(o,e){1&o&&(t.TgZ(0,"th",26),t._uU(1," Category "),t.qZA())}function nt(o,e){if(1&o&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&o){const n=e.$implicit,i=t.oxw(2);t.Q6J("ngClass",i.statusColor(n.isActive)),t.xp6(1),t.hij(" ",n.category.category_name," ")}}function it(o,e){1&o&&(t.TgZ(0,"th",26),t._uU(1," Price "),t.qZA())}function at(o,e){if(1&o&&(t.TgZ(0,"td",27),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&o){const n=e.$implicit,i=t.oxw(2);t.Q6J("ngClass",i.statusColor(n.isActive)),t.xp6(1),t.hij(" ",t.xi3(2,2,n.price,"C$ ")," ")}}function st(o,e){1&o&&(t.TgZ(0,"th",26),t._uU(1," Quantity "),t.qZA())}function rt(o,e){if(1&o&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&o){const n=e.$implicit,i=t.oxw(2);t.Q6J("ngClass",i.statusColor(n.isActive)),t.xp6(1),t.hij(" ",n.quantity," ")}}function ct(o,e){1&o&&(t.TgZ(0,"th",26),t._uU(1," Active "),t.qZA())}function ut(o,e){if(1&o&&(t.TgZ(0,"td",27)(1,"mat-icon"),t._uU(2),t.qZA()()),2&o){const n=e.$implicit,i=t.oxw(2);t.Q6J("ngClass",i.statusColor(n.isActive)),t.xp6(2),t.hij("",!0===n.isActive?"check":"close"," ")}}function lt(o,e){1&o&&(t.TgZ(0,"th",26),t._uU(1," Actions "),t.qZA())}const mt=function(o){return["/dashboard/products/edit/",o]};function dt(o,e){if(1&o&&(t.TgZ(0,"button",31)(1,"mat-icon"),t._uU(2,"edit"),t.qZA()()),2&o){const n=t.oxw().$implicit;t.Q6J("routerLink",t.VKq(1,mt,n._id))}}function pt(o,e){if(1&o&&(t.TgZ(0,"td",28),t.YNc(1,dt,3,3,"button",29),t.TgZ(2,"button",30)(3,"mat-icon"),t._uU(4,"info"),t.qZA()()()),2&o){const n=t.oxw(2);t.xp6(1),t.Q6J("ngIf","admin"===n.permissions)}}function _t(o,e){1&o&&t._UZ(0,"tr",32)}function gt(o,e){1&o&&t._UZ(0,"tr",33)}function ht(o,e){if(1&o&&(t.TgZ(0,"tr",34)(1,"td",35),t._uU(2),t.qZA()()),2&o){t.oxw(2);const n=t.MAs(14);t.xp6(2),t.hij('No data matching the filter "',n.value,'"')}}const ft=function(){return[5,10,20]};function vt(o,e){if(1&o&&(t.TgZ(0,"div",9)(1,"table",10),t.ynx(2,11),t.YNc(3,K,2,0,"th",12),t.YNc(4,X,2,2,"td",13),t.BQk(),t.ynx(5,14),t.YNc(6,W,2,0,"th",12),t.YNc(7,V,2,2,"td",13),t.BQk(),t.ynx(8,15),t.YNc(9,tt,2,0,"th",12),t.YNc(10,et,2,2,"td",13),t.BQk(),t.ynx(11,16),t.YNc(12,ot,2,0,"th",12),t.YNc(13,nt,2,2,"td",13),t.BQk(),t.ynx(14,17),t.YNc(15,it,2,0,"th",12),t.YNc(16,at,3,5,"td",13),t.BQk(),t.ynx(17,18),t.YNc(18,st,2,0,"th",12),t.YNc(19,rt,2,2,"td",13),t.BQk(),t.ynx(20,19),t.YNc(21,ct,2,0,"th",12),t.YNc(22,ut,3,2,"td",13),t.BQk(),t.ynx(23,20),t.YNc(24,lt,2,0,"th",12),t.YNc(25,pt,5,1,"td",21),t.BQk(),t.YNc(26,_t,1,0,"tr",22),t.YNc(27,gt,1,0,"tr",23),t.YNc(28,ht,3,1,"tr",24),t.qZA(),t._UZ(29,"mat-paginator",25),t.qZA()),2&o){const n=t.oxw();t.xp6(1),t.Q6J("dataSource",n.dataSource),t.xp6(25),t.Q6J("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(2),t.Q6J("length",n.products.length)("pageSizeOptions",t.DdM(6,ft))}}function Ct(o,e){1&o&&(t.TgZ(0,"div",36),t._UZ(1,"mat-spinner",37),t.qZA())}class k{constructor(e,n,i,r){this.productsService=e,this.authService=n,this.snackService=i,this.dialog=r,this.products=[],this.permissions="",this.displayedColumns=["id","name","description","category","price","quantity","isActive","actions"],this.permissions=this.authService.userAccess()}ngAfterViewInit(){this.productsService.getProducts().subscribe(e=>{this.products=e,this.dataSource=new s.by(this.products),this.dataSource.paginator=this.paginator})}applyFilter(e){this.dataSource.filter=e.target.value,this.dataSource.paginator&&this.dataSource.paginator.firstPage()}statusColor(e){if(!e)return"disabled"}}k.\u0275fac=function(e){return new(e||k)(t.Y36(f),t.Y36(M.e),t.Y36(v.c),t.Y36(O.uw))},k.\u0275cmp=t.Xpm({type:k,selectors:[["app-products"]],viewQuery:function(e,n){if(1&e&&t.Gf(Z.NW,5),2&e){let i;t.iGM(i=t.CRH())&&(n.paginator=i.first)}},decls:18,vars:2,consts:[[1,"flex","py-4"],[1,"self-center","font-bold","text-2xl"],[1,"flex-1"],["color","accent","routerLink","/dashboard/products/add","mat-flat-button","",1,"drop-shadow-lg"],[1,"w-6/12"],["matInput","","placeholder","Laptop, Headphones or another product","autocomplete","off",3,"keyup"],["input",""],["class","mat-elevation-z8 animate__animated animate__fadeIn rounded-lg",4,"ngIf","ngIfElse"],["divSpinner",""],[1,"mat-elevation-z8","animate__animated","animate__fadeIn","rounded-lg"],["mat-table","",1,"bg-transparent",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"ngClass",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","description"],["matColumnDef","category"],["matColumnDef","price"],["matColumnDef","quantity"],["matColumnDef","isActive"],["matColumnDef","actions"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row mr-4",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of products",1,"bg-transparent",3,"length","pageSizeOptions"],["mat-header-cell",""],["mat-cell","",3,"ngClass"],["mat-cell",""],["mat-icon-button","","color","basic",3,"routerLink",4,"ngIf"],["mat-icon-button","",1,"text-blue-500"],["mat-icon-button","","color","basic",3,"routerLink"],["mat-header-row",""],["mat-row",""],[1,"mat-row","mr-4"],["colspan","4",1,"mat-cell"],[1,"flex","items-center","justify-center","mt-60","animate__animated","animate__fadeIn"],[1,"mat-progress-spinner"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"h1",1),t._uU(2,"Products"),t.qZA(),t._UZ(3,"span",2),t.TgZ(4,"button",3),t._uU(5,"Add "),t.TgZ(6,"mat-icon"),t._uU(7,"add"),t.qZA()()(),t._UZ(8,"hr")(9,"br"),t.TgZ(10,"mat-form-field",4)(11,"mat-label"),t._uU(12,"Search"),t.qZA(),t.TgZ(13,"input",5,6),t.NdJ("keyup",function(r){return n.applyFilter(r)}),t.qZA()(),t.YNc(15,vt,30,7,"div",7),t.YNc(16,Ct,2,0,"ng-template",null,8,t.W1O)),2&e){const i=t.MAs(17);t.xp6(15),t.Q6J("ngIf",n.products.length>0)("ngIfElse",i)}},dependencies:[u.mk,u.O5,m.rH,p.lW,p.RK,d.KE,d.hX,g.Hw,x.Nt,Z.NW,A.Ou,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,s.Ee,u.H9],styles:["td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:center!important;vertical-align:middle!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center!important}.disabled[_ngcontent-%COMP%]{opacity:.7}"]});class h{constructor(e){this.http=e,this.baseUrl=N.N.baseUrl}getCategories(){return this.http.get(`${this.baseUrl}/data/categories`)}getCategoriesById(e){return this.http.get(`${this.baseUrl}/data/categories/${e}`)}createCategories(e){return this.http.post(`${this.baseUrl}/data/create/categories`,e)}editCategories(e,n){return this.http.put(`${this.baseUrl}/data/categories/${n}`,e)}}function Zt(o,e){1&o&&(t.TgZ(0,"th",23),t._uU(1," ID "),t.qZA())}function xt(o,e){if(1&o&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&o){const n=e.$implicit,i=t.oxw(2);t.Q6J("ngClass",i.statusColor(n.isActive)),t.xp6(1),t.hij(" ",n._id," ")}}function At(o,e){1&o&&(t.TgZ(0,"th",23),t._uU(1," Name "),t.qZA())}function Tt(o,e){if(1&o&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&o){const n=e.$implicit,i=t.oxw(2);t.Q6J("ngClass",i.statusColor(n.isActive)),t.xp6(1),t.hij(" ",n.category_name," ")}}function Ut(o,e){1&o&&(t.TgZ(0,"th",23),t._uU(1," Description "),t.qZA())}function bt(o,e){if(1&o&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&o){const n=e.$implicit,i=t.oxw(2);t.Q6J("ngClass",i.statusColor(n.isActive)),t.xp6(1),t.hij(" ",n.category_description," ")}}function yt(o,e){1&o&&(t.TgZ(0,"th",23),t._uU(1," Active "),t.qZA())}function qt(o,e){if(1&o&&(t.TgZ(0,"td",24)(1,"mat-icon"),t._uU(2),t.qZA()()),2&o){const n=e.$implicit,i=t.oxw(2);t.Q6J("ngClass",i.statusColor(n.isActive)),t.xp6(2),t.Oqu(!0===n.isActive?"check":"close")}}function wt(o,e){1&o&&(t.TgZ(0,"th",23),t._uU(1," Actions "),t.qZA())}h.\u0275fac=function(e){return new(e||h)(t.LFG(I.eN))},h.\u0275prov=t.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"});const St=function(o){return["/dashboard/categories/edit/",o]};function Nt(o,e){if(1&o&&(t.TgZ(0,"button",28)(1,"mat-icon"),t._uU(2,"edit"),t.qZA()()),2&o){const n=t.oxw().$implicit;t.Q6J("routerLink",t.VKq(1,St,n._id))}}function It(o,e){if(1&o&&(t.TgZ(0,"td",25),t.YNc(1,Nt,3,3,"button",26),t.TgZ(2,"button",27)(3,"mat-icon"),t._uU(4,"info"),t.qZA()()()),2&o){const n=t.oxw(2);t.xp6(1),t.Q6J("ngIf","admin"===n.permissions)}}function kt(o,e){1&o&&t._UZ(0,"tr",29)}function Yt(o,e){1&o&&t._UZ(0,"tr",30)}function Ft(o,e){if(1&o&&(t.TgZ(0,"tr",31)(1,"td",32),t._uU(2),t.qZA()()),2&o){t.oxw(2);const n=t.MAs(14);t.xp6(2),t.hij('No data matching the filter "',n.value,'"')}}const Qt=function(){return[5,10,20]};function Jt(o,e){if(1&o&&(t.TgZ(0,"div",9)(1,"table",10),t.ynx(2,11),t.YNc(3,Zt,2,0,"th",12),t.YNc(4,xt,2,2,"td",13),t.BQk(),t.ynx(5,14),t.YNc(6,At,2,0,"th",12),t.YNc(7,Tt,2,2,"td",13),t.BQk(),t.ynx(8,15),t.YNc(9,Ut,2,0,"th",12),t.YNc(10,bt,2,2,"td",13),t.BQk(),t.ynx(11,16),t.YNc(12,yt,2,0,"th",12),t.YNc(13,qt,3,2,"td",13),t.BQk(),t.ynx(14,17),t.YNc(15,wt,2,0,"th",12),t.YNc(16,It,5,1,"td",18),t.BQk(),t.YNc(17,kt,1,0,"tr",19),t.YNc(18,Yt,1,0,"tr",20),t.YNc(19,Ft,3,1,"tr",21),t.qZA(),t._UZ(20,"mat-paginator",22),t.qZA()),2&o){const n=t.oxw();t.xp6(1),t.Q6J("dataSource",n.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(2),t.Q6J("length",n.categories.length)("pageSizeOptions",t.DdM(6,Qt))}}function Pt(o,e){1&o&&(t.TgZ(0,"div",33),t._UZ(1,"mat-spinner",34),t.qZA())}class Y{constructor(e,n,i,r){this.categoriesService=e,this.authService=n,this.snackService=i,this.dialog=r,this.categories=[],this.permissions="",this.displayedColumns=["id","name","description","active","actions"],this.permissions=this.authService.userAccess()}ngAfterViewInit(){this.categoriesService.getCategories().subscribe(e=>{this.categories=e,this.dataSource=new s.by(this.categories),this.dataSource.paginator=this.paginator})}applyFilter(e){this.dataSource.filter=e.target.value,this.dataSource.paginator&&this.dataSource.paginator.firstPage()}statusColor(e){if(!e)return"disabled"}}Y.\u0275fac=function(e){return new(e||Y)(t.Y36(h),t.Y36(M.e),t.Y36(v.c),t.Y36(O.uw))},Y.\u0275cmp=t.Xpm({type:Y,selectors:[["app-categories"]],viewQuery:function(e,n){if(1&e&&t.Gf(Z.NW,5),2&e){let i;t.iGM(i=t.CRH())&&(n.paginator=i.first)}},decls:18,vars:2,consts:[[1,"flex","py-4","header"],[1,"self-center","font-bold","text-2xl"],[1,"flex-1"],["color","accent","routerLink","/dashboard/categories/add","mat-flat-button","",1,"drop-shadow-lg"],[1,"w-6/12"],["matInput","","placeholder","Categories of products","autocomplete","off",3,"keyup"],["input",""],["class","mat-elevation-z8 animate__animated animate__fadeIn rounded-lg",4,"ngIf","ngIfElse"],["divSpinner",""],[1,"mat-elevation-z8","animate__animated","animate__fadeIn","rounded-lg"],["mat-table","",1,"bg-transparent",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"ngClass",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","description"],["matColumnDef","active"],["matColumnDef","actions"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row mr-4",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of products",1,"bg-transparent",3,"length","pageSizeOptions"],["mat-header-cell",""],["mat-cell","",3,"ngClass"],["mat-cell",""],["mat-icon-button","","color","basic",3,"routerLink",4,"ngIf"],["mat-icon-button","",1,"text-blue-500"],["mat-icon-button","","color","basic",3,"routerLink"],["mat-header-row",""],["mat-row",""],[1,"mat-row","mr-4"],["colspan","4",1,"mat-cell"],[1,"flex","items-center","justify-center","mt-60","animate__animated","animate__fadeIn"],[1,"mat-progress-spinner"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"h1",1),t._uU(2,"Categories"),t.qZA(),t._UZ(3,"span",2),t.TgZ(4,"button",3),t._uU(5,"Add "),t.TgZ(6,"mat-icon"),t._uU(7,"add"),t.qZA()()(),t._UZ(8,"hr")(9,"br"),t.TgZ(10,"mat-form-field",4)(11,"mat-label"),t._uU(12,"Search"),t.qZA(),t.TgZ(13,"input",5,6),t.NdJ("keyup",function(r){return n.applyFilter(r)}),t.qZA()(),t.YNc(15,Jt,21,7,"div",7),t.YNc(16,Pt,2,0,"ng-template",null,8,t.W1O)),2&e){const i=t.MAs(17);t.xp6(15),t.Q6J("ngIf",n.categories.length>0)("ngIfElse",i)}},dependencies:[u.mk,u.O5,m.rH,p.lW,p.RK,d.KE,d.hX,g.Hw,x.Nt,Z.NW,A.Ou,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,s.Ee],styles:["td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:center!important;vertical-align:middle!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center!important}.disabled[_ngcontent-%COMP%]{opacity:.7}"]});class C{constructor(e){this.http=e,this.baseUrl=N.N.baseUrl}getUsers(){return this.http.get(`${this.baseUrl}/data/users`)}getUserById(e){return this.http.get(`${this.baseUrl}/data/users/${e}`)}getRoles(){return this.http.get(`${this.baseUrl}/data/roles`)}createUser(e){return this.http.post(`${this.baseUrl}/auth/register`,e)}editUser(e,n){return this.http.put(`${this.baseUrl}/data/users/${n}`,e)}deleteUser(e){return this.http.delete(`${this.baseUrl}/data/users/${e}`)}}function Dt(o,e){1&o&&(t.TgZ(0,"th",27),t._uU(1," ID "),t.qZA())}function Mt(o,e){if(1&o&&(t.TgZ(0,"td",28)(1,"pre"),t._uU(2),t.qZA()()),2&o){const n=e.$implicit,i=t.oxw(2);t.Q6J("ngClass",i.statusColor(n.isActive)),t.xp6(2),t.Oqu(n._id)}}function Ot(o,e){1&o&&(t.TgZ(0,"th",27),t._uU(1," Name "),t.qZA())}function $t(o,e){if(1&o&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&o){const n=e.$implicit,i=t.oxw(2);t.Q6J("ngClass",i.statusColor(n.isActive)),t.xp6(1),t.hij(" ",n.username," ")}}function Rt(o,e){1&o&&(t.TgZ(0,"th",27),t._uU(1," Lastname "),t.qZA())}function Ht(o,e){if(1&o&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&o){const n=e.$implicit,i=t.oxw(2);t.Q6J("ngClass",i.statusColor(n.isActive)),t.xp6(1),t.hij(" ",n.lastname," ")}}function jt(o,e){1&o&&(t.TgZ(0,"th",27),t._uU(1," Email "),t.qZA())}function zt(o,e){if(1&o&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&o){const n=e.$implicit,i=t.oxw(2);t.Q6J("ngClass",i.statusColor(n.isActive)),t.xp6(1),t.hij(" ",n.email," ")}}function Lt(o,e){1&o&&(t.TgZ(0,"th",27),t._uU(1," Birth "),t.qZA())}function Bt(o,e){if(1&o&&(t.TgZ(0,"td",28),t._uU(1),t.ALo(2,"date"),t.qZA()),2&o){const n=e.$implicit,i=t.oxw(2);t.Q6J("ngClass",i.statusColor(n.isActive)),t.xp6(1),t.hij(" ",t.lcZ(2,2,n.birthday)," ")}}function Gt(o,e){1&o&&(t.TgZ(0,"th",27),t._uU(1," Position "),t.qZA())}function Et(o,e){if(1&o&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&o){const n=e.$implicit,i=t.oxw(2);t.Q6J("ngClass",i.statusColor(n.isActive)),t.xp6(1),t.hij(" ",n.position," ")}}function Kt(o,e){1&o&&(t.TgZ(0,"th",27),t._uU(1," Role "),t.qZA())}function Xt(o,e){if(1&o&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&o){const n=e.$implicit,i=t.oxw(2);t.Q6J("ngClass",i.statusColor(n.isActive)),t.xp6(1),t.hij(" ",n.roles.role_name," ")}}function Wt(o,e){1&o&&(t.TgZ(0,"th",27),t._uU(1," Active "),t.qZA())}function Vt(o,e){if(1&o&&(t.TgZ(0,"td",28)(1,"mat-icon"),t._uU(2),t.qZA()()),2&o){const n=e.$implicit,i=t.oxw(2);t.Q6J("ngClass",i.statusColor(n.isActive)),t.xp6(2),t.Oqu(!0===n.isActive?"check":"close")}}function te(o,e){1&o&&(t.TgZ(0,"th",27),t._uU(1," Actions "),t.qZA())}C.\u0275fac=function(e){return new(e||C)(t.LFG(I.eN))},C.\u0275prov=t.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"});const ee=function(o){return["/dashboard/users/edit/",o]};function oe(o,e){if(1&o&&(t.TgZ(0,"td",29)(1,"button",30)(2,"mat-icon"),t._uU(3,"edit"),t.qZA()()()),2&o){const n=e.$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(1,ee,n._id))}}function ne(o,e){1&o&&t._UZ(0,"tr",31)}function ie(o,e){1&o&&t._UZ(0,"tr",32)}function ae(o,e){if(1&o&&(t.TgZ(0,"tr",33)(1,"td",34),t._uU(2),t.qZA()()),2&o){t.oxw(2);const n=t.MAs(14);t.xp6(2),t.hij('No data matching the filter "',n.value,'"')}}const se=function(){return[5,10,20]};function re(o,e){if(1&o&&(t.TgZ(0,"div",9)(1,"table",10),t.ynx(2,11),t.YNc(3,Dt,2,0,"th",12),t.YNc(4,Mt,3,2,"td",13),t.BQk(),t.ynx(5,14),t.YNc(6,Ot,2,0,"th",12),t.YNc(7,$t,2,2,"td",13),t.BQk(),t.ynx(8,15),t.YNc(9,Rt,2,0,"th",12),t.YNc(10,Ht,2,2,"td",13),t.BQk(),t.ynx(11,16),t.YNc(12,jt,2,0,"th",12),t.YNc(13,zt,2,2,"td",13),t.BQk(),t.ynx(14,17),t.YNc(15,Lt,2,0,"th",12),t.YNc(16,Bt,3,4,"td",13),t.BQk(),t.ynx(17,18),t.YNc(18,Gt,2,0,"th",12),t.YNc(19,Et,2,2,"td",13),t.BQk(),t.ynx(20,19),t.YNc(21,Kt,2,0,"th",12),t.YNc(22,Xt,2,2,"td",13),t.BQk(),t.ynx(23,20),t.YNc(24,Wt,2,0,"th",12),t.YNc(25,Vt,3,2,"td",13),t.BQk(),t.ynx(26,21),t.YNc(27,te,2,0,"th",12),t.YNc(28,oe,4,3,"td",22),t.BQk(),t.YNc(29,ne,1,0,"tr",23),t.YNc(30,ie,1,0,"tr",24),t.YNc(31,ae,3,1,"tr",25),t.qZA(),t._UZ(32,"mat-paginator",26),t.qZA()),2&o){const n=t.oxw();t.xp6(1),t.Q6J("dataSource",n.dataSource),t.xp6(28),t.Q6J("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(2),t.Q6J("length",n.users.length)("pageSizeOptions",t.DdM(6,se))}}function ce(o,e){1&o&&(t.TgZ(0,"div",35),t._UZ(1,"mat-spinner",36),t.qZA())}class F{constructor(e,n,i){this.usersService=e,this.snackService=n,this.dialog=i,this.users=[],this.displayedColumns=["id","name","lastname","email","birth","position","role","active","actions"]}ngAfterViewInit(){this.usersService.getUsers().subscribe(e=>{this.users=e,this.dataSource=new s.by(this.users),this.dataSource.paginator=this.paginator})}applyFilter(e){this.dataSource.filter=e.target.value,this.dataSource.paginator&&this.dataSource.paginator.firstPage()}statusColor(e){if(!e)return"disabled"}}F.\u0275fac=function(e){return new(e||F)(t.Y36(C),t.Y36(v.c),t.Y36(O.uw))},F.\u0275cmp=t.Xpm({type:F,selectors:[["app-users"]],viewQuery:function(e,n){if(1&e&&t.Gf(Z.NW,5),2&e){let i;t.iGM(i=t.CRH())&&(n.paginator=i.first)}},decls:18,vars:2,consts:[[1,"flex","py-4"],[1,"self-center","font-bold","text-2xl"],[1,"flex-1"],["color","accent","routerLink","/dashboard/users/create","mat-flat-button","",1,"drop-shadow-lg"],[1,"w-6/12"],["matInput","","placeholder","User data","autocomplete","off",3,"keyup"],["input",""],["class","mat-elevation-z8 animate__animated animate__fadeIn rounded-lg",4,"ngIf","ngIfElse"],["divSpinner",""],[1,"mat-elevation-z8","animate__animated","animate__fadeIn","rounded-lg"],["mat-table","",1,"bg-transparent",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"ngClass",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","lastname"],["matColumnDef","email"],["matColumnDef","birth"],["matColumnDef","position"],["matColumnDef","role"],["matColumnDef","active"],["matColumnDef","actions"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row mr-4",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of products",1,"bg-transparent",3,"length","pageSizeOptions"],["mat-header-cell",""],["mat-cell","",3,"ngClass"],["mat-cell",""],["mat-icon-button","","color","basic",3,"routerLink"],["mat-header-row",""],["mat-row",""],[1,"mat-row","mr-4"],["colspan","4",1,"mat-cell"],[1,"flex","items-center","justify-center","mt-60","animate__animated","animate__fadeIn"],[1,"mat-progress-spinner"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"h1",1),t._uU(2,"Users"),t.qZA(),t._UZ(3,"span",2),t.TgZ(4,"button",3),t._uU(5,"Create "),t.TgZ(6,"mat-icon"),t._uU(7,"add"),t.qZA()()(),t._UZ(8,"hr")(9,"br"),t.TgZ(10,"mat-form-field",4)(11,"mat-label"),t._uU(12,"Search"),t.qZA(),t.TgZ(13,"input",5,6),t.NdJ("keyup",function(r){return n.applyFilter(r)}),t.qZA()(),t.YNc(15,re,33,7,"div",7),t.YNc(16,ce,2,0,"ng-template",null,8,t.W1O)),2&e){const i=t.MAs(17);t.xp6(15),t.Q6J("ngIf",n.users.length>0)("ngIfElse",i)}},dependencies:[u.mk,u.O5,m.rH,p.lW,p.RK,d.KE,d.hX,g.Hw,x.Nt,Z.NW,A.Ou,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,s.Ee,u.uU],styles:["td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:center!important;vertical-align:middle!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:center!important}.disabled[_ngcontent-%COMP%]{opacity:.7}"]});var a=c(4006),$=c(3900),R=c(6709),B=c(4385),G=c(3238);function ue(o,e){1&o&&(t.TgZ(0,"span",20),t._uU(1,"The product name must be more than 3 letters"),t.qZA())}function le(o,e){1&o&&(t.TgZ(0,"span",20),t._uU(1,"The product description must be more than 5 letters"),t.qZA())}function me(o,e){1&o&&(t.TgZ(0,"span",20),t._uU(1,"The product price must be more than 0"),t.qZA())}function de(o,e){if(1&o&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&o){const n=e.$implicit;t.Q6J("value",n.category_name),t.xp6(1),t.Oqu(n.category_name)}}function pe(o,e){1&o&&(t.TgZ(0,"span",20),t._uU(1,"This field is required"),t.qZA())}function _e(o,e){if(1&o){const n=t.EpF();t.TgZ(0,"div")(1,"h1",2),t._uU(2),t.qZA(),t._UZ(3,"hr")(4,"br"),t.TgZ(5,"div",3)(6,"form",4),t.NdJ("ngSubmit",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.saveProduct())}),t.TgZ(7,"div",5)(8,"mat-form-field",6)(9,"mat-label"),t._uU(10,"Product Name"),t.qZA(),t._UZ(11,"input",7),t.qZA(),t.YNc(12,ue,2,0,"span",8),t.qZA(),t.TgZ(13,"div",5)(14,"mat-form-field",6)(15,"mat-label"),t._uU(16,"Description"),t.qZA(),t._UZ(17,"input",9),t.qZA(),t.YNc(18,le,2,0,"span",8),t.qZA(),t.TgZ(19,"div",10)(20,"div",11)(21,"mat-form-field",6)(22,"mat-label"),t._uU(23,"Product Price"),t.qZA(),t._UZ(24,"input",12),t.qZA(),t.YNc(25,me,2,0,"span",8),t.qZA(),t.TgZ(26,"div",13)(27,"mat-form-field",6)(28,"mat-label"),t._uU(29,"Quantity"),t.qZA(),t._UZ(30,"input",14),t.qZA()(),t.TgZ(31,"div",11)(32,"mat-form-field",6)(33,"mat-label"),t._uU(34,"Category"),t.qZA(),t.TgZ(35,"mat-select",15),t.NdJ("valueChange",function(r){t.CHM(n);const l=t.oxw();return t.KtG(l.product.category.category_name=r)}),t.YNc(36,de,2,2,"mat-option",16),t.qZA()(),t.YNc(37,pe,2,0,"span",8),t.qZA(),t.TgZ(38,"div",11)(39,"mat-checkbox",17),t.NdJ("ngModelChange",function(r){t.CHM(n);const l=t.oxw();return t.KtG(l.product.isActive=r)}),t._uU(40,"Product is "),t.TgZ(41,"span",18),t._uU(42),t.qZA()()()(),t.TgZ(43,"button",19),t._uU(44),t.TgZ(45,"mat-icon"),t._uU(46,"save"),t.qZA()()()()()}if(2&o){const n=t.oxw();t.xp6(2),t.hij("",n.product._id?"Edit":"Add"," Product"),t.xp6(4),t.Q6J("formGroup",n.productsForm),t.xp6(6),t.Q6J("ngIf",n.validateFields("product_name")),t.xp6(6),t.Q6J("ngIf",n.validateFields("description")),t.xp6(7),t.Q6J("ngIf",n.validateFields("price")),t.xp6(10),t.Q6J("value",n.product.category.category_name),t.xp6(1),t.Q6J("ngForOf",n.categories),t.xp6(1),t.Q6J("ngIf",n.validateFields("category")),t.xp6(2),t.Q6J("ngModel",n.product.isActive),t.xp6(3),t.Oqu(n.product.isActive?"Active":"Disabled"),t.xp6(2),t.hij(" Save ",n.product._id?"Changes":"Product"," ")}}function ge(o,e){1&o&&(t.TgZ(0,"div",22),t._UZ(1,"mat-spinner",23),t.qZA())}class T{constructor(e,n,i,r,l,j){this.productService=e,this.categoriesService=n,this.fb=i,this.router=r,this.activatedRoute=l,this.snackService=j,this.categories=[],this.product={product_name:"",description:"",price:0,quantity:0,category:{category_name:"",category_description:"",isActive:!1},isActive:!1},this.response=0,this.productsForm=this.fb.group({product_name:[this.product.product_name,[a.kI.required,a.kI.minLength(3)]],description:[this.product.description,[a.kI.required,a.kI.minLength(5)]],price:[this.product.price,[a.kI.required,a.kI.min(1)]],quantity:[this.product.quantity,[a.kI.required,a.kI.min(0)]],category:[this.product.category.category_name,[a.kI.required]],isActive:[this.product.isActive,[a.kI.required]]}),this.categoriesService.getCategories().subscribe(z=>{this.categories=z})}ngOnInit(){this.activatedRoute.snapshot.params.id&&this.activatedRoute.params.pipe((0,$.w)(({id:e})=>this.productService.getProductById(e))).subscribe(e=>{this.product=e,this.productsForm.patchValue(this.product)})}ngAfterViewInit(){setTimeout(()=>{this.spinnerOut()},300)}spinnerOut(){this.response=1}validateFields(e){return this.productsForm.controls[`${e}`].errors&&this.productsForm.controls[`${e}`].touched}saveProduct(){this.productsForm.invalid?this.productsForm.markAllAsTouched():(this.productsForm.value.category={category_name:this.productsForm.value.category},this.product._id?this.productService.editProduct(this.productsForm.value,this.product._id).subscribe(e=>{this.snackService.showSnack("Product Updated Succesfully"),this.router.navigate(["/dashboard/products"])}):this.productService.createProduct(this.productsForm.value).subscribe(e=>{this.snackService.showSnack("Product Added Succesfully"),this.router.navigate(["/dashboard/products"])}))}}function he(o,e){1&o&&(t.TgZ(0,"span",14),t._uU(1,"The category name must be more than 3 letters"),t.qZA())}function fe(o,e){1&o&&(t.TgZ(0,"span",14),t._uU(1,"The category description must be more than 5 letters"),t.qZA())}function ve(o,e){if(1&o){const n=t.EpF();t.TgZ(0,"div")(1,"h1",2),t._uU(2),t.qZA(),t._UZ(3,"hr")(4,"br"),t.TgZ(5,"div",3)(6,"form",4),t.NdJ("ngSubmit",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.saveCategory())}),t.TgZ(7,"div",5)(8,"mat-form-field",6)(9,"mat-label"),t._uU(10,"Category Name"),t.qZA(),t._UZ(11,"input",7),t.qZA(),t.YNc(12,he,2,0,"span",8),t.qZA(),t.TgZ(13,"div",5)(14,"mat-form-field",6)(15,"mat-label"),t._uU(16,"Description"),t.qZA(),t._UZ(17,"input",9),t.qZA(),t.YNc(18,fe,2,0,"span",8),t.qZA(),t.TgZ(19,"div",10)(20,"mat-checkbox",11),t.NdJ("ngModelChange",function(r){t.CHM(n);const l=t.oxw();return t.KtG(l.category.isActive=r)}),t._uU(21,"Category is "),t.TgZ(22,"span",12),t._uU(23),t.qZA()()(),t.TgZ(24,"button",13),t._uU(25),t.TgZ(26,"mat-icon"),t._uU(27,"save"),t.qZA()()()()()}if(2&o){const n=t.oxw();t.xp6(2),t.hij("",n.category._id?"Edit":"Add"," Category"),t.xp6(4),t.Q6J("formGroup",n.categoriesForm),t.xp6(6),t.Q6J("ngIf",n.validateFields("category_name")),t.xp6(6),t.Q6J("ngIf",n.validateFields("category_description")),t.xp6(2),t.Q6J("ngModel",n.category.isActive),t.xp6(3),t.Oqu(n.category.isActive?"Active":"Disabled"),t.xp6(2),t.hij(" Save ",n.category._id?"Changes":"Category"," ")}}function Ce(o,e){1&o&&(t.TgZ(0,"div",15),t._UZ(1,"mat-spinner",16),t.qZA())}T.\u0275fac=function(e){return new(e||T)(t.Y36(f),t.Y36(h),t.Y36(a.qu),t.Y36(m.F0),t.Y36(m.gz),t.Y36(v.c))},T.\u0275cmp=t.Xpm({type:T,selectors:[["app-add-products"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["divSpinner",""],[1,"py-4","font-bold","text-2xl"],[1,"flex","justify-center","mt-9","animate__animated","animate__fadeIn"],["autocomplete","off",1,"mat-elevation-z8","p-4","w-4/5",3,"formGroup","ngSubmit"],[1,"mb-2"],["appearance","fill",1,"w-full"],["formControlName","product_name","matInput",""],["class","text-red-500",4,"ngIf"],["formControlName","description","matInput",""],[1,"flex","gap-3","max-[700px]:flex-col","mb-2"],[1,"min-[700px]:w-2/5"],["type","number","formControlName","price","matInput",""],[1,"min-[700px]:w-1/6"],["type","number","formControlName","quantity","matInput",""],["formControlName","category",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","isActive",3,"ngModel","ngModelChange"],[1,"font-bold"],["type","submit","mat-flat-button","",1,"drop-shadow-lg","float-right","bg-green-400"],[1,"text-red-500"],[3,"value"],[1,"flex","items-center","justify-center","mt-60","animate__animated","animate__fadeIn"],[1,"mat-progress-spinner"]],template:function(e,n){if(1&e&&(t.YNc(0,_e,47,11,"div",0),t.YNc(1,ge,2,0,"ng-template",null,1,t.W1O)),2&e){const i=t.MAs(2);t.Q6J("ngIf",0!==n.response)("ngIfElse",i)}},dependencies:[u.sg,u.O5,p.lW,R.oG,d.KE,d.hX,g.Hw,x.Nt,A.Ou,B.gD,G.ey,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.sg,a.u],encapsulation:2});class U{constructor(e,n,i,r,l){this.categoriesService=e,this.fb=n,this.router=i,this.activatedRoute=r,this.snackService=l,this.category={category_name:"",category_description:"",isActive:!1},this.response=0,this.categoriesForm=this.fb.group({category_name:[this.category.category_name,[a.kI.required,a.kI.minLength(3)]],category_description:[this.category.category_description,[a.kI.required,a.kI.minLength(5)]],isActive:[this.category.isActive,[a.kI.required]]})}ngOnInit(){this.activatedRoute.snapshot.params.id&&this.activatedRoute.params.pipe((0,$.w)(({id:e})=>this.categoriesService.getCategoriesById(e))).subscribe(e=>{this.category=e,this.categoriesForm.patchValue(this.category)})}ngAfterViewInit(){setTimeout(()=>{this.spinnerOut()},300)}spinnerOut(){this.response=1}validateFields(e){return this.categoriesForm.controls[`${e}`].errors&&this.categoriesForm.controls[`${e}`].touched}saveCategory(){this.categoriesForm.invalid?this.categoriesForm.markAllAsTouched():this.category._id?this.categoriesService.editCategories(this.categoriesForm.value,this.category._id).subscribe(e=>{this.snackService.showSnack("Category Updated Succesfully"),this.router.navigate(["/dashboard/categories"])}):this.categoriesService.createCategories(this.categoriesForm.value).subscribe(e=>{this.snackService.showSnack("Category Added Succesfully"),this.router.navigate(["/dashboard/categories"])})}}U.\u0275fac=function(e){return new(e||U)(t.Y36(h),t.Y36(a.qu),t.Y36(m.F0),t.Y36(m.gz),t.Y36(v.c))},U.\u0275cmp=t.Xpm({type:U,selectors:[["app-add-categories"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["divSpinner",""],[1,"py-4","font-bold","text-2xl"],[1,"flex","justify-center","mt-9","animate__animated","animate__fadeIn"],["autocomplete","off",1,"mat-elevation-z8","p-4","w-4/5",3,"formGroup","ngSubmit"],[1,"mb-2"],["appearance","fill",1,"w-full"],["formControlName","category_name","matInput",""],["class","text-red-500",4,"ngIf"],["formControlName","category_description","matInput",""],[1,"min-[700px]:w-2/5"],["formControlName","isActive",3,"ngModel","ngModelChange"],[1,"font-bold"],["type","submit","mat-flat-button","",1,"drop-shadow-lg","float-right","bg-green-400"],[1,"text-red-500"],[1,"flex","items-center","justify-center","mt-60","animate__animated","animate__fadeIn"],[1,"mat-progress-spinner"]],template:function(e,n){if(1&e&&(t.YNc(0,ve,28,7,"div",0),t.YNc(1,Ce,2,0,"ng-template",null,1,t.W1O)),2&e){const i=t.MAs(2);t.Q6J("ngIf",0!==n.response)("ngIfElse",i)}},dependencies:[u.O5,p.lW,R.oG,d.KE,d.hX,g.Hw,x.Nt,A.Ou,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u],encapsulation:2});class b{constructor(e){this.http=e,this.baseUrl=N.N.baseUrl}getRoles(){return this.http.get(`${this.baseUrl}/data/roles`)}}function Ze(o,e){1&o&&(t.TgZ(0,"span",22),t._uU(1,"The username must be more than 3 letters"),t.qZA())}function xe(o,e){1&o&&(t.TgZ(0,"span",22),t._uU(1,"The user lastname must be more than 3 letters"),t.qZA())}function Ae(o,e){1&o&&(t.TgZ(0,"span",22),t._uU(1,"Email format invalid"),t.qZA())}function Te(o,e){1&o&&(t.TgZ(0,"span",22),t._uU(1,"Password must contain 6 or more caracters"),t.qZA())}function Ue(o,e){1&o&&(t.TgZ(0,"span",22),t._uU(1,"This field is required"),t.qZA())}function be(o,e){1&o&&(t.TgZ(0,"span",22),t._uU(1,"The position must be more than 3 letters"),t.qZA())}function ye(o,e){if(1&o&&(t.TgZ(0,"mat-option",23),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&o){const n=e.$implicit;t.Q6J("value",n.role_name),t.xp6(1),t.Oqu(t.lcZ(2,2,n.role_name))}}function qe(o,e){1&o&&(t.TgZ(0,"span",22),t._uU(1,"This field is required"),t.qZA())}function we(o,e){if(1&o){const n=t.EpF();t.TgZ(0,"div")(1,"h1",2),t._uU(2),t.qZA(),t._UZ(3,"hr")(4,"br"),t.TgZ(5,"div",3)(6,"form",4),t.NdJ("ngSubmit",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.saveUser())}),t.TgZ(7,"div",5)(8,"div",6)(9,"mat-form-field",7)(10,"mat-label"),t._uU(11,"Username"),t.qZA(),t._UZ(12,"input",8),t.qZA(),t.YNc(13,Ze,2,0,"span",9),t.qZA(),t.TgZ(14,"div",6)(15,"mat-form-field",7)(16,"mat-label"),t._uU(17,"Lastname"),t.qZA(),t._UZ(18,"input",10),t.qZA(),t.YNc(19,xe,2,0,"span",9),t.qZA()(),t.TgZ(20,"div",5)(21,"div",6)(22,"mat-form-field",7)(23,"mat-label"),t._uU(24,"Email"),t.qZA(),t._UZ(25,"input",11),t.qZA(),t.YNc(26,Ae,2,0,"span",9),t.qZA(),t.TgZ(27,"div",6)(28,"mat-form-field",7)(29,"mat-label"),t._uU(30,"Password"),t.qZA(),t._UZ(31,"input",12),t.qZA(),t.YNc(32,Te,2,0,"span",9),t.qZA()(),t.TgZ(33,"div",5)(34,"div",13)(35,"mat-form-field",7)(36,"mat-label"),t._uU(37,"Birthday"),t.qZA(),t._UZ(38,"input",14),t.qZA(),t.YNc(39,Ue,2,0,"span",9),t.qZA(),t.TgZ(40,"div",15)(41,"mat-form-field",7)(42,"mat-label"),t._uU(43,"Position"),t.qZA(),t._UZ(44,"input",16),t.qZA(),t.YNc(45,be,2,0,"span",9),t.qZA(),t.TgZ(46,"div",15)(47,"mat-form-field",7)(48,"mat-label"),t._uU(49,"Role"),t.qZA(),t.TgZ(50,"mat-select",17),t.NdJ("valueChange",function(r){t.CHM(n);const l=t.oxw();return t.KtG(l.user.roles.role_name=r)}),t.YNc(51,ye,3,4,"mat-option",18),t.qZA()(),t.YNc(52,qe,2,0,"span",9),t.qZA(),t.TgZ(53,"div",15)(54,"mat-checkbox",19),t.NdJ("ngModelChange",function(r){t.CHM(n);const l=t.oxw();return t.KtG(l.user.isActive=r)}),t._uU(55,"User is "),t.TgZ(56,"span",20),t._uU(57),t.qZA()()()(),t.TgZ(58,"button",21),t._uU(59),t.TgZ(60,"mat-icon"),t._uU(61,"save"),t.qZA()()()()()}if(2&o){const n=t.oxw();t.xp6(2),t.hij("",n.user._id?"Edit":"Create"," User"),t.xp6(4),t.Q6J("formGroup",n.usersForm),t.xp6(7),t.Q6J("ngIf",n.validateFields("username")),t.xp6(6),t.Q6J("ngIf",n.validateFields("lastname")),t.xp6(7),t.Q6J("ngIf",n.validateFields("email")),t.xp6(6),t.Q6J("ngIf",n.validateFields("password")),t.xp6(7),t.Q6J("ngIf",n.validateFields("birthday")),t.xp6(6),t.Q6J("ngIf",n.validateFields("position")),t.xp6(5),t.Q6J("value",n.user.roles.role_name),t.xp6(1),t.Q6J("ngForOf",n.roles),t.xp6(1),t.Q6J("ngIf",n.validateFields("role")),t.xp6(2),t.Q6J("ngModel",n.user.isActive),t.xp6(3),t.Oqu(n.user.isActive?"Active":"Disabled"),t.xp6(2),t.hij(" Save ",n.user._id?"Changes":"User"," ")}}function Se(o,e){1&o&&(t.TgZ(0,"div",24),t._UZ(1,"mat-spinner",25),t.qZA())}b.\u0275fac=function(e){return new(e||b)(t.LFG(I.eN))},b.\u0275prov=t.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"});class y{constructor(e,n,i,r,l,j){this.usersService=e,this.rolesService=n,this.fb=i,this.router=r,this.activatedRoute=l,this.snackService=j,this.emailPattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",this.roles=[],this.user={username:"",lastname:"",email:"",password:"",birthday:new Date,position:"",roles:{role_name:""},isActive:!1},this.response=0,this.usersForm=this.fb.group({username:[this.user.username,[a.kI.required,a.kI.minLength(3)]],lastname:[this.user.lastname,[a.kI.required,a.kI.minLength(3)]],email:[this.user.email,[a.kI.required,a.kI.pattern(this.emailPattern)]],password:[this.user.password,[a.kI.required,a.kI.min(6)]],birthday:[this.user.birthday,[a.kI.required]],position:[this.user.position,[a.kI.required,a.kI.min(3)]],role:[this.user.roles.role_name,[a.kI.required]],isActive:[this.user.isActive,[a.kI.required]]}),this.rolesService.getRoles().subscribe(z=>{this.roles=z})}ngOnInit(){this.activatedRoute.snapshot.params.id&&this.activatedRoute.params.pipe((0,$.w)(({id:e})=>this.usersService.getUserById(e))).subscribe(e=>{this.user=e,this.usersForm.patchValue(this.user),this.usersForm.controls.password.reset(),this.snackService.showSnack("Please, you must to change your password for save changes")})}ngAfterViewInit(){setTimeout(()=>{this.spinnerOut()},300)}validateFields(e){return this.usersForm.controls[`${e}`].errors&&this.usersForm.controls[`${e}`].touched}spinnerOut(){this.response=1}saveUser(){this.usersForm.invalid?this.usersForm.markAsTouched():(this.usersForm.value.roles={role_name:this.usersForm.value.role},this.user._id?this.usersService.editUser(this.usersForm.value,this.user._id).subscribe(e=>{this.snackService.showSnack("User Updated Succesfully"),this.router.navigate(["/dashboard/users"])}):this.usersService.createUser(this.usersForm.value).subscribe(e=>{this.snackService.showSnack("User Created Succesfully"),this.router.navigate(["/dashboard/users"])}))}}y.\u0275fac=function(e){return new(e||y)(t.Y36(C),t.Y36(b),t.Y36(a.qu),t.Y36(m.F0),t.Y36(m.gz),t.Y36(v.c))},y.\u0275cmp=t.Xpm({type:y,selectors:[["app-create-users"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["divSpinner",""],[1,"py-4","font-bold","text-2xl"],[1,"flex","justify-center","mt-9","animate__animated","animate__fadeIn"],["autocomplete","off",1,"mat-elevation-z8","p-4","w-4/5",3,"formGroup","ngSubmit"],[1,"flex","gap-3","max-[700px]:flex-col","mb-2"],[1,"min-[700px]:w-1/2"],["appearance","fill",1,"w-full"],["formControlName","username","matInput",""],["class","text-red-500",4,"ngIf"],["formControlName","lastname","matInput",""],["type","email","formControlName","email","matInput",""],["type","text","formControlName","password","matInput",""],[1,"min-[700px]:w-1/6"],["type","date","formControlName","birthday","matInput",""],[1,"min-[700px]:w-2/5"],["type","text","formControlName","position","matInput",""],["formControlName","role",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","isActive",3,"ngModel","ngModelChange"],[1,"font-bold"],["type","submit","mat-flat-button","",1,"drop-shadow-lg","float-right","bg-green-400"],[1,"text-red-500"],[3,"value"],[1,"flex","items-center","justify-center","mt-60","animate__animated","animate__fadeIn"],[1,"mat-progress-spinner"]],template:function(e,n){if(1&e&&(t.YNc(0,we,62,14,"div",0),t.YNc(1,Se,2,0,"ng-template",null,1,t.W1O)),2&e){const i=t.MAs(2);t.Q6J("ngIf",0!==n.response)("ngIfElse",i)}},dependencies:[u.sg,u.O5,p.lW,R.oG,d.KE,d.hX,g.Hw,x.Nt,A.Ou,B.gD,G.ey,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,u.rS],encapsulation:2});var H=c(4633),E=c(3267),Ne=c(3683);function Ie(o,e){if(1&o){const n=t.EpF();t.TgZ(0,"a",13),t.NdJ("click",function(){t.CHM(n),t.oxw();const r=t.MAs(2);return t.KtG(r.toggle())}),t.TgZ(1,"span",14),t._uU(2),t.qZA(),t.TgZ(3,"mat-icon",15),t._uU(4),t.qZA()()}if(2&o){const n=e.$implicit;t.Q6J("routerLink",n.url),t.xp6(2),t.Oqu(n.title),t.xp6(2),t.Oqu(n.icon)}}class Q{constructor(e,n){this.authService=e,this.router=n,this.username=this.authService.user.name,this.role=this.authService.user.role,this.links=[{title:"Dashboard",url:"./dashboard",icon:"home"},{title:"Products",url:"./products",icon:"shopping_bag"},{title:"Categories",url:"./categories",icon:"category"},{title:"Users",url:"./users",icon:"group"}]}logout(){this.authService.logout(),this.router.navigateByUrl("/login")}}Q.\u0275fac=function(e){return new(e||Q)(t.Y36(M.e),t.Y36(m.F0))},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["app-home"]],decls:29,vars:5,consts:[["fullscreen",""],["mode","over",1,"bg-dark-blue","w-48"],["sidenav",""],[1,"bg-dark-blue","drop-shadow-lg","text-white"],[1,"flex-1"],["mat-icon-button","",3,"click"],[1,"mt-28"],["class","mb-4 hover:bg-black","mat-list-item","",3,"routerLink","click",4,"ngFor","ngForOf"],[1,"flex","justify-center","align-bottom"],["mat-button","",1,"text-red-400","logout",3,"click"],[1,"text-base"],[1,"text-yellow-400"],[1,"m-8"],["mat-list-item","",1,"mb-4","hover:bg-black",3,"routerLink","click"],[1,"text-white","text-sm"],["matListItemIcon","",1,"text-white"]],template:function(e,n){if(1&e){const i=t.EpF();t.TgZ(0,"mat-sidenav-container",0)(1,"mat-sidenav",1,2)(3,"mat-toolbar",3)(4,"span"),t._uU(5," Menu "),t.qZA(),t._UZ(6,"span",4),t.TgZ(7,"button",5),t.NdJ("click",function(){t.CHM(i);const l=t.MAs(2);return t.KtG(l.toggle())}),t.TgZ(8,"mat-icon"),t._uU(9,"close"),t.qZA()()(),t.TgZ(10,"mat-nav-list",6),t.YNc(11,Ie,5,3,"a",7),t.qZA(),t.TgZ(12,"div",8)(13,"button",9),t.NdJ("click",function(){return n.logout()}),t.TgZ(14,"mat-icon",10),t._uU(15,"logout"),t.qZA(),t._uU(16,"Sign Out "),t.qZA()()(),t.TgZ(17,"mat-toolbar",3)(18,"button",5),t.NdJ("click",function(){t.CHM(i);const l=t.MAs(2);return t.KtG(l.toggle())}),t.TgZ(19,"mat-icon"),t._uU(20,"menu"),t.qZA()(),t._UZ(21,"span",4),t.TgZ(22,"pre",10),t._uU(23),t.TgZ(24,"span",11),t._uU(25),t.ALo(26,"titlecase"),t.qZA()()(),t.TgZ(27,"div",12),t._UZ(28,"router-outlet"),t.qZA()()}2&e&&(t.xp6(11),t.Q6J("ngForOf",n.links),t.xp6(12),t.hij("",n.username," | "),t.xp6(2),t.Oqu(t.lcZ(26,3,n.role)))},dependencies:[u.sg,m.lC,m.rH,p.lW,p.RK,g.Hw,H.Hk,H.Tg,H.Yt,E.JX,E.TM,Ne.Ye,u.rS],styles:["mat-nav-list[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#000}mat-nav-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{transition:.5s ease;box-shadow:inset 2px 0 #f5cf3d}mat-nav-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{animation:bounce 1s}.bg-dark-blue[_ngcontent-%COMP%]{background-color:#1c2b36}mat-sidenav-container[_ngcontent-%COMP%]{background-color:#f0f3f4}"]});class _{constructor(e,n,i){this.authService=e,this.router=n,this.snack=i}canActivate(){return"admin"===this.authService.userAccess()||(this.router.navigateByUrl("dashboard/products"),this.snack.showSnack("Unathorized for navigate to this route"),!1)}canMatch(){return"admin"===this.authService.userAccess()||(this.router.navigateByUrl("dashboard/products"),this.snack.showSnack("Unathorized for navigate to this route"),!1)}}_.\u0275fac=function(e){return new(e||_)(t.LFG(M.e),t.LFG(m.F0),t.LFG(v.c))},_.\u0275prov=t.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"});class q{constructor(e){this.http=e,this.baseUrl=N.N.baseUrl}getTotalData(){return this.http.get(`${this.baseUrl}/stats/data`)}}q.\u0275fac=function(e){return new(e||q)(t.LFG(I.eN))},q.\u0275prov=t.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"});var ke=c(1481);class J{constructor(e){this._domSanitize=e}transform(e,n){switch(n){case"html":default:return this._domSanitize.bypassSecurityTrustHtml(e);case"style":return this._domSanitize.bypassSecurityTrustStyle(e);case"script":return this._domSanitize.bypassSecurityTrustScript(e);case"url":return this._domSanitize.bypassSecurityTrustUrl(e);case"resourceUrl":return this._domSanitize.bypassSecurityTrustResourceUrl(e)}}}function Ye(o,e){if(1&o&&(t.TgZ(0,"div",2)(1,"div",3)(2,"h3",4),t._uU(3),t.qZA(),t._UZ(4,"hr")(5,"iframe",5),t.ALo(6,"sanitize"),t.qZA()()),2&o){const n=e.$implicit;t.xp6(3),t.Oqu(n.title),t.xp6(2),t.Q6J("src",t.xi3(6,2,n.url,"resourceUrl"),t.uOi)}}J.\u0275fac=function(e){return new(e||J)(t.Y36(ke.H7,16))},J.\u0275pipe=t.Yjl({name:"sanitize",type:J,pure:!0});class P{constructor(){this.charts=[{title:"Products",url:"https://charts.mongodb.com/charts-project-0-apleo/embed/charts?id=63ddd0c2-4888-4be3-81a6-eee56dbf4400&maxDataAge=86400&theme=light&autoRefresh=false"},{title:"Users",url:"https://charts.mongodb.com/charts-project-0-apleo/embed/charts?id=63ddf48c-716e-46ca-81e6-d386bf2e740e&maxDataAge=86400&theme=light&autoRefresh=false"},{title:"",url:"https://charts.mongodb.com/charts-project-0-apleo/embed/charts?id=63e1cb85-666b-480d-8a18-5b5c9db80443&maxDataAge=86400&theme=light&autoRefresh=false"},{title:"Inventory",url:"https://charts.mongodb.com/charts-project-0-apleo/embed/charts?id=63deab76-3346-4859-81fa-c583c4253fc4&maxDataAge=86400&theme=light&autoRefresh=false"}]}}function Fe(o,e){if(1&o&&(t.TgZ(0,"li",6)(1,"mat-icon",7),t._uU(2),t.qZA(),t.TgZ(3,"p",8),t._uU(4),t.qZA(),t.TgZ(5,"pre",9),t._uU(6),t.qZA()()),2&o){const n=e.$implicit;t.xp6(2),t.Oqu(n.icon),t.xp6(2),t.Oqu(n.title),t.xp6(2),t.Oqu(n.data)}}P.\u0275fac=function(e){return new(e||P)},P.\u0275cmp=t.Xpm({type:P,selectors:[["app-graphic"]],decls:2,vars:1,consts:[[1,"grid","grid-cols-2","gap-3"],["class","mat-elevation-z8 animate__animated animate__fadeIn rounded-lg",4,"ngFor","ngForOf"],[1,"mat-elevation-z8","animate__animated","animate__fadeIn","rounded-lg"],[1,"p-1"],[1,"text-2xl","text-center"],["width","100%","height","400",2,"border","none","border-radius","5px",3,"src"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.YNc(1,Ye,7,5,"div",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",n.charts))},dependencies:[u.sg,J],encapsulation:2});class D{constructor(e){this.dataService=e,this.dataList=[],this.dataService.getTotalData().subscribe(n=>{this.dataList=n})}}D.\u0275fac=function(e){return new(e||D)(t.Y36(q))},D.\u0275cmp=t.Xpm({type:D,selectors:[["app-dashboard"]],decls:14,vars:1,consts:[[1,"flex","py-2"],[1,"self-center","font-bold","text-2xl"],[1,"flex","flex-col","gap-3"],[1,"mat-elevation-z8","animate__animated","animate__fadeIn","p-3","text-center","rounded-lg"],[1,"text-2xl"],["class","flex-1",4,"ngFor","ngForI-index","ngForOf"],[1,"flex-1"],[1,"text-3xl","w-10","h-10"],[1,"text-lg","font-medium"],[1,"text-black","text-lg"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"h1",1),t._uU(2,"Dashboard"),t.qZA()(),t._UZ(3,"hr")(4,"br"),t.TgZ(5,"div",2)(6,"div",3)(7,"h3",4),t._uU(8,"Total Data"),t.qZA(),t._UZ(9,"hr"),t.TgZ(10,"ul",0),t.YNc(11,Fe,7,3,"li",5),t.qZA()(),t.TgZ(12,"div"),t._UZ(13,"app-graphic"),t.qZA()()),2&e&&(t.xp6(11),t.Q6J("ngForOf",n.dataList))},dependencies:[u.sg,g.Hw,P],encapsulation:2});const Qe=[{path:"",component:Q,children:[{path:"",component:D},{path:"products",component:k},{path:"categories",component:Y},{path:"users",component:F,canActivate:[_],canMatch:[_]},{path:"products/add",component:T},{path:"products/edit/:id",component:T},{path:"categories/add",component:U},{path:"categories/edit/:id",component:U},{path:"users/create",component:y,canActivate:[_],canMatch:[_]},{path:"users/edit/:id",component:y,canActivate:[_],canMatch:[_]},{path:"**",redirectTo:""}]}];class w{}w.\u0275fac=function(e){return new(e||w)},w.\u0275mod=t.oAB({type:w}),w.\u0275inj=t.cJS({imports:[m.Bz.forChild(Qe),m.Bz]});var Je=c(898);class S{}S.\u0275fac=function(e){return new(e||S)},S.\u0275mod=t.oAB({type:S}),S.\u0275inj=t.cJS({imports:[u.ez,w,Je.q,a.UX]})}}]);